<!DOCTYPE html>
<html>
	<head>
		<!--Import Google Icon Font-->
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<!--Import materialize.css-->
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" charset="UTF-8" content="width=device-width, initial-scale=1.0"/>
		<title>Test Google Maps JavaScript API</title>
		<style>
			html, body {
				height: 100%;
				margin: 0;
				padding: 0;
			}
			#display_map {
				height: 50%;
			}

		</style>
	 </head>
	<body>
		<div id="display_map"></div>
		<div>
			<ul id="display_list" class="collection z-depth-4"></ul>
		</div>
		<script>
			// The markers are stored in an array.
			var map1;
			var markers = [];
			var loc =[
						{lat: 24.12249, lng: 120.6762},
						{lat: 24.12225, lng: 120.6743},
						{lat: 24.12112, lng: 120.6771},
						{lat: 24.12316, lng: 120.6744},
						{lat: 24.12177, lng: 120.6727},
						{lat: 24.11988, lng: 120.6743}
					];
			//JSON Array
			var list = [
					{"title":"title1","label":"1","loc":{lat: 24.12249, lng: 120.6762},"link":""},
					{"title":"title2","label":"2","loc":{lat: 24.12225, lng: 120.6743},"link":""},
					{"title":"title3","label":"3","loc":{lat: 24.12112, lng: 120.6771},"link":""},
					{"title":"title4","label":"4","loc":{lat: 24.12316, lng: 120.6744},"link":""},
					{"title":"title5","label":"5","loc":{lat: 24.12177, lng: 120.6727},"link":""},
					{"title":"title6","label":"6","loc":{lat: 24.11988, lng: 120.6743},"link":""}
					];
			
			function initMap() {
				var centerLoc = {lat: 24.120844, lng: 120.674287};
				map1 = new google.maps.Map(document.getElementById('display_map'), {
					zoom: 16,
					center: centerLoc,
					mapTypeId: google.maps.MapTypeId.TERRAIN
			  });

				// Adds a marker at the center of the map.
				addMarker(centerLoc,"C","Center");
			  
				//使用迴圈呼叫addMarker()來增加多個marker
				for(var i=0;i<loc.length;i++){
					addMarker(list[i].loc,list[i].label,list[i].title);
				}
			  
			}

			// Adds a marker to the map and push to the array.
			function addMarker(location,Mlabel,Mtitle) {
				var marker = new google.maps.Marker({
					position: location,
					label: Mlabel,
					title: Mtitle,
					map: map1
				});
			  markers.push(marker);
			}
		</script>
		<script async defer src="https://maps.googleapis.com/maps/api/js?callback=initMap"></script>
	</body>
</html>