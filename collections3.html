<!DOCTYPE html>
<html>
	<head>
		<title>Test Collections</title>
		<!--Import Google Icon Font-->
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<!--Import materialize.css-->
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	</head>

	<body>
		<!--Import jQuery before materialize.js-->
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="js/materialize.min.js"></script>
		<nav>
			<div class="nav-wrapper orange">
				<img src="images/logo.jpg" class="brand-logo"/>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="#">About</a></li>
					<li class="active"><a href="#">Products</a></li>
					<li><a href="#">Contact</a></li>
				</ul>
			</div>
		</nav>
		<div class="row">
			<div class="col s12 m4">&nbsp;</div>
			<div class="col s12 m4">
				<ul id="display" class="collection z-depth-4"></ul>
			</div>
			<div class="col s12 m4">&nbsp;</div>
		</div>
		<script>
			//XmlHttpRequest
			var xmlhttp = new XMLHttpRequest();
			var url = "https://emma.pixnet.cc/mainpage/blog/categories/hot/19?page=1&per_page=10&api_version=2&format=json";

			xmlhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					var jsonData = JSON.parse(this.responseText);
					display(jsonData);
				}
			};
			xmlhttp.open("GET", url, true);
			xmlhttp.send();
			
			function display(jsonData){
				var list = jsonData.articles;
				var str = "";
				var i;
				for (i = 0 ; i < list.length ; i++){
					str += "<li class='collection-item avatar dismissable'>";
					str += "<img src='" + list[i].thumb + "' class='circle'/>";
					str += "<span class='title'>" + list[i].title + "</span>";
					str += "<p class='red-text'>" + list[i].summary + "</p>";
					str += "<a href='" + list[i].link + "' class='secondary-content'><i class='material-icons orange-text'>chevron_right</i></a>";
					str += "</li>";
				}
				document.getElementById("display").innerHTML = str;
			}
		</script>
		<footer class="page-footer orange">
			<div class="footer-copyright">
				<div class="container">
					MIT License
					<a class="grey-text text-lighten-4 right" href="#!">More Links</a>
				</div>
			</div>
        </footer>
	</body>
</html>